#!/bin/bash

schema_id="2"
messages='{ "resourceType": "DATASET", "fdkId": "6467f35c-f246-48f5-956c-616b949e52e6", "timestamp": 1647698566000, "data": "{\"accessRights\":{\"code\":\"PUBLIC\",\"prefLabel\":{\"nb\":\"Offentlig\"},\"uri\":\"http://publications.europa.eu/resource/authority/access-right/PUBLIC\"},\"accessRightsComment\":null,\"accrualPeriodicity\":null,\"admsIdentifier\":null,\"catalog\":null,\"conformsTo\":null,\"contactPoint\":null,\"dctType\":null,\"description\":{\"nb\":\"NOBIL er etablert for formidling av informasjon om ladestasjoner for elbiler. Den har et detaljert innhold om ladestasjonene og formidler sanntidsdata. Alt er fritt tilgjengelig via et API. Et ladepunkt er en reservert parkeringsplass med lademulighet for ladbare kj\u00F8ret\u00F8y. P\u00E5 et ladepunkt kan det v\u00E6re mer enn en kontakt, men bare plass til et kj\u00F8ret\u00F8y av gangen. En ladestasjon er et sted for det er ett eller flere ladepunkt.\"},\"descriptionFormatted\":{\"nb\":\"NOBIL er etablert for formidling av informasjon om ladestasjoner for elbiler. Den har et detaljert innhold om ladestasjonene og formidler sanntidsdata. Alt er fritt tilgjengelig via et API. Et ladepunkt er en reservert parkeringsplass med lademulighet for ladbare kj\u00F8ret\u00F8y. P\u00E5 et ladepunkt kan det v\u00E6re mer enn en kontakt, men bare plass til et kj\u00F8ret\u00F8y av gangen. En ladestasjon er et sted for det er ett eller flere ladepunkt.\"},\"distribution\":[{\"accessService\":null,\"accessURL\":[\"http://info.nobil.no/\"],\"compressFormat\":null,\"conformsTo\":null,\"description\":{\"nb\":\"Nettside som med informasjon om API-et\"},\"downloadURL\":null,\"fdkFormat\":[{\"code\":\"json\",\"name\":\"json\",\"type\":\"MEDIA_TYPE\",\"uri\":\"https://www.iana.org/assignments/media-types/application/json\"}],\"license\":[{\"broader\":null,\"extraType\":null,\"narrower\":null,\"prefLabel\":null,\"uri\":\"http://creativecommons.org/licenses/by/3.0/no/\"}],\"packageFormat\":null,\"page\":null,\"title\":null,\"type\":null,\"uri\":\"https://data.norge.no/node/512/.well-known/skolem/3511ebda-bd3d-3c1b-a1cb-af8a448fb146\"}],\"eurovocThemes\":null,\"harvest\":{\"firstHarvested\":\"2017-12-18T15:51:44Z\",\"modified\":\"2023-05-08T12:51:54Z\"},\"hasAccuracyAnnotation\":null,\"hasAvailabilityAnnotation\":null,\"hasCompletenessAnnotation\":null,\"hasCurrentnessAnnotation\":null,\"hasRelevanceAnnotation\":null,\"id\":\"b7a52544-fbb4-4deb-8a38-f40abf80e319\",\"identifier\":[\"https://data.norge.no/node/512\"],\"inSeries\":null,\"informationModel\":null,\"isAuthoritative\":false,\"isOpenData\":false,\"isRelatedToTransportportal\":true,\"issued\":\"2013-10-08\",\"keyword\":null,\"landingPage\":[\"http://info.nobil.no/\"],\"language\":[{\"code\":\"NOR\",\"prefLabel\":{\"nb\":\"Norsk\"},\"uri\":\"http://publications.europa.eu/resource/authority/language/NOR\"}],\"legalBasisForAccess\":null,\"legalBasisForProcessing\":null,\"legalBasisForRestriction\":null,\"losTheme\":[{\"code\":\"drivstoff-og-ladestasjoner\",\"isTema\":false,\"losPaths\":[\"trafikk-og-transport/mobilitetstilbud/drivstoff-og-ladestasjoner\"],\"name\":{\"en\":\"Filling and charging stations\",\"nb\":\"Drivstoff og ladestasjoner\",\"nn\":\"Drivstoff og ladestasjonar\"},\"uri\":\"https://psi.norge.no/los/ord/drivstoff-og-ladestasjoner\"},{\"code\":\"energi\",\"isTema\":true,\"losPaths\":[\"natur-klima-og-miljo/energi\"],\"name\":{\"en\":\"Energy\",\"nb\":\"Energi\",\"nn\":\"Energi\"},\"uri\":\"https://psi.norge.no/los/tema/energi\"},{\"code\":\"mobilitetstilbud\",\"isTema\":true,\"losPaths\":[\"trafikk-og-transport/mobilitetstilbud\"],\"name\":{\"en\":\"Mobility services\",\"nb\":\"Mobilitetstilbud\",\"nn\":\"Mobilitetstilbod\"},\"uri\":\"https://psi.norge.no/los/tema/mobilitetstilbud\"},{\"code\":\"natur-klima-og-miljo\",\"isTema\":true,\"losPaths\":[\"natur-klima-og-miljo\"],\"name\":{\"en\":\"Nature, climate and environment\",\"nb\":\"Natur, klima og milj\u00F8\",\"nn\":\"Natur, klima og milj\u00F8\"},\"uri\":\"https://psi.norge.no/los/tema/natur-klima-og-miljo\"},{\"code\":\"trafikk-og-transport\",\"isTema\":true,\"losPaths\":[\"trafikk-og-transport\"],\"name\":{\"en\":\"Traffic and transport\",\"nb\":\"Trafikk og transport\",\"nn\":\"Trafikk og transport\"},\"uri\":\"https://psi.norge.no/los/tema/trafikk-og-transport\"}],\"modified\":\"2018-03-15\",\"objective\":null,\"page\":null,\"prev\":null,\"provenance\":null,\"publisher\":{\"id\":\"983609155\",\"name\":\"ENOVA SF\",\"orgPath\":\"/PRIVAT/983609155\",\"organisasjonsform\":\"SF\",\"prefLabel\":{\"nb\":\"Enova sf\"},\"uri\":\"https://organization-catalog.fellesdatakatalog.digdir.no/organizations/983609155\"},\"qualifiedAttributions\":null,\"references\":null,\"sample\":null,\"source\":null,\"spatial\":null,\"subject\":null,\"temporal\":null,\"theme\":[{\"code\":\"ENER\",\"title\":{\"en\":\"Energy\",\"nb\":\"Energi\",\"nn\":\"Energi\",\"no\":\"Energi\"},\"uri\":\"http://publications.europa.eu/resource/authority/data-theme/ENER\"},{\"code\":\"ENVI\",\"title\":{\"en\":\"Environment\",\"nb\":\"Milj\u00F8\",\"nn\":\"Milj\u00F8\",\"no\":\"Milj\u00F8\"},\"uri\":\"http://publications.europa.eu/resource/authority/data-theme/ENVI\"},{\"code\":\"TRAN\",\"title\":{\"en\":\"Transport\",\"nb\":\"Transport\",\"nn\":\"Transport\",\"no\":\"Transport\"},\"uri\":\"http://publications.europa.eu/resource/authority/data-theme/TRAN\"}],\"themeUris\":[\"http://publications.europa.eu/resource/authority/data-theme/ENER\",\"http://publications.europa.eu/resource/authority/data-theme/ENVI\",\"http://publications.europa.eu/resource/authority/data-theme/TRAN\",\"https://psi.norge.no/los/ord/drivstoff-og-ladestasjoner\",\"https://psi.norge.no/los/tema/energi\",\"https://psi.norge.no/los/tema/mobilitetstilbud\",\"https://psi.norge.no/los/tema/natur-klima-og-miljo\",\"https://psi.norge.no/los/tema/trafikk-og-transport\"],\"title\":{\"nb\":\"NOBIL- ladestasjoner for elbiler\"},\"type\":\"datasets\",\"uri\":\"https://data.norge.no/node/512\"}" }\n
{ "resourceType": "DATASET", "fdkId": "6467f35c-f246-48f5-956c-616b949e52e2", "timestamp": 1647698566000, "data": "{\"accessRights\":{\"code\":\"PUBLIC\",\"prefLabel\":{\"en\":\"public\"},\"uri\":\"http://publications.europa.eu/resource/authority/access-right/PUBLIC\"},\"accessRightsComment\":null,\"accrualPeriodicity\":null,\"admsIdentifier\":null,\"catalog\":{\"description\":null,\"id\":\"8f791b08-7559-3728-a408-877acad61f3f\",\"publisher\":{\"id\":\"977161630\",\"name\":\"ENERGIDEPARTEMENTET\",\"orgPath\":\"/STAT/977161630\",\"organisasjonsform\":\"STAT\",\"prefLabel\":{\"nb\":\"Energidepartementet\"},\"uri\":\"https://organization-catalog.fellesdatakatalog.digdir.no/organizations/977161630\"},\"title\":{\"nb\":\"Datakatalog for OLJE- OG ENERGIDEPARTEMENTET\"},\"uri\":\"https://registrering.fellesdatakatalog.digdir.no/catalogs/977161630\"},\"conformsTo\":null,\"contactPoint\":[{\"email\":null,\"fullname\":null,\"hasTelephone\":null,\"hasURL\":\"http://www.regjeringen.no/nb/dep/oed.html?id=750\",\"organizationName\":null,\"organizationUnit\":null,\"uri\":\"https://data.norge.no/node/769/.well-known/skolem/c2cbc8aa-0021-3449-9204-bbc29f81dd05\"}],\"dctType\":null,\"description\":{\"nb\":\"Extractive Industries Transparency Initiative (EITI) er et initiativ fra den tidligere britiske statsminister Tony Blair om å øke åpenheten omkring betalingsstrømmer innenfor petroleums- og gruveindustrien. Norge har siden 2003 aktivt støttet dette initiativet politisk og økonomisk. EITI har utarbeidet et sett av prinsipper for åpenhet og godt styresett som også forutsetter aktiv deltagelse fra det sivile samfunn. En rekke land, selskaper og organisasjoner har sluttet seg til disse prinsippene. Videre er det et sett av kriterier som må oppfylles av de land som velger å implementere EITI. Norske EITI-tall for 2009 er publisert i XLS-format på regjeringen.no . Les mer om hva EITI er på temasidene på regjeringen.no .\"},\"descriptionFormatted\":{\"nb\":\"Extractive Industries Transparency Initiative (EITI) er et initiativ fra den tidligere britiske statsminister Tony Blair om å øke åpenheten omkring betalingsstrømmer innenfor petroleums- og gruveindustrien. Norge har siden 2003 aktivt støttet dette initiativet politisk og økonomisk. EITI har utarbeidet et sett av prinsipper for åpenhet og godt styresett som også forutsetter aktiv deltagelse fra det sivile samfunn. En rekke land, selskaper og organisasjoner har sluttet seg til disse prinsippene. Videre er det et sett av kriterier som må oppfylles av de land som velger å implementere EITI. Norske EITI-tall for 2009 er publisert i XLS-format på regjeringen.no . Les mer om hva EITI er på temasidene på regjeringen.no .\"},\"distribution\":[{\"accessService\":null,\"accessURL\":[\"https://hotell.difi.no/?dataset=oed/eiti-2009/overskuddsandel\"],\"compressFormat\":null,\"conformsTo\":[{\"prefLabel\":null,\"uri\":\"https://hotell.difi.no/application.wadl\"}],\"description\":{\"nb\":\"REST-API i formatene XML, JSON(P), CSV og YAML, og komplett nedlasting i CSV.\"},\"downloadURL\":[\"https://hotell.difi.no/download/oed/eiti-2009/overskuddsandel?download\"],\"fdkFormat\":[{\"code\":null,\"name\":null,\"type\":\"UNKNOWN\",\"uri\":\"https://www.iana.org/assignments/media-types/application/x.yaml\"},{\"code\":\"application/json\",\"name\":\"json\",\"type\":\"MEDIA_TYPE\",\"uri\":\"https://www.iana.org/assignments/media-types/application/json\"},{\"code\":\"text/csv\",\"name\":\"csv\",\"type\":\"MEDIA_TYPE\",\"uri\":\"https://www.iana.org/assignments/media-types/text/csv\"},{\"code\":\"text/xml\",\"name\":\"xml\",\"type\":\"MEDIA_TYPE\",\"uri\":\"https://www.iana.org/assignments/media-types/text/xml\"},{\"code\":\"application/javascript\",\"name\":\"javascript (OBSOLETED in favor of text/javascript)\",\"type\":\"MEDIA_TYPE\",\"uri\":\"https://www.iana.org/assignments/media-types/application/javascript\"}],\"license\":[{\"broader\":null,\"extraType\":null,\"narrower\":null,\"prefLabel\":{\"en\":\"Norwegian Licence for Open Government Data\",\"no\":\"Norsk lisens for offentlige data\"},\"uri\":\"http://publications.europa.eu/resource/authority/licence/NLOD_2_0\"}],\"packageFormat\":null,\"page\":null,\"title\":null,\"type\":null,\"uri\":\"https://data.norge.no/node/769/.well-known/skolem/1c755a18-6630-3ff8-93e5-8e8e8442f629\"}],\"eurovocThemes\":null,\"harvest\":{\"firstHarvested\":\"2017-12-19T15:58:36Z\",\"modified\":\"2023-05-08T12:51:56Z\"},\"hasAccuracyAnnotation\":null,\"hasAvailabilityAnnotation\":null,\"hasCompletenessAnnotation\":null,\"hasCurrentnessAnnotation\":null,\"hasRelevanceAnnotation\":null,\"id\":\"1e91cf0f-0bd1-4ee4-b780-585d0f6857de\",\"identifier\":[\"https://data.norge.no/node/769\"],\"inSeries\":null,\"informationModel\":null,\"isAuthoritative\":false,\"isOpenData\":true,\"isRelatedToTransportportal\":false,\"issued\":\"2014-01-01\",\"keyword\":[{\"nb\":\"petroliumsindustri\"},{\"nb\":\"oljeindustri\"},{\"nb\":\"gruveindustri\"},{\"nb\":\"statistikk\"},{\"nb\":\"olje\"}],\"landingPage\":null,\"language\":null,\"legalBasisForAccess\":null,\"legalBasisForProcessing\":null,\"legalBasisForRestriction\":null,\"losTheme\":[{\"code\":\"energi\",\"isTema\":true,\"losPaths\":[\"natur-klima-og-miljo/energi\"],\"name\":{\"en\":\"Energy\",\"nb\":\"Energi\",\"nn\":\"Energi\"},\"uri\":\"https://psi.norge.no/los/tema/energi\"}],\"modified\":\"2018-03-13\",\"objective\":null,\"page\":null,\"prev\":null,\"provenance\":null,\"publisher\":{\"id\":\"977161630\",\"name\":\"ENERGIDEPARTEMENTET\",\"orgPath\":\"/STAT/977161630\",\"organisasjonsform\":\"STAT\",\"prefLabel\":{\"nb\":\"Energidepartementet\"},\"uri\":\"https://organization-catalog.fellesdatakatalog.digdir.no/organizations/977161630\"},\"qualifiedAttributions\":null,\"references\":null,\"sample\":null,\"source\":null,\"spatial\":[{\"code\":null,\"prefLabel\":null,\"uri\":\"http://data.geonorge.no/administrativeEnheter/nasjon/id/173163\"}],\"subject\":null,\"temporal\":[{\"endDate\":\"2009-12-31\",\"startDate\":\"2009-01-01\",\"uri\":\"https://data.norge.no/node/769/.well-known/skolem/2a67426d-e760-3f7f-a63a-3c0b4845c84e\"}],\"theme\":[{\"code\":\"ECON\",\"title\":{\"en\":\"Economy and finance\",\"nb\":\"Økonomi og finans\",\"nn\":\"Økonomi og finans\",\"no\":\"Økonomi og finans\"},\"uri\":\"http://publications.europa.eu/resource/authority/data-theme/ECON\"},{\"code\":\"ENER\",\"title\":{\"en\":\"Energy\",\"nb\":\"Energi\",\"nn\":\"Energi\",\"no\":\"Energi\"},\"uri\":\"http://publications.europa.eu/resource/authority/data-theme/ENER\"}],\"themeUris\":[\"http://publications.europa.eu/resource/authority/data-theme/ECON\",\"http://publications.europa.eu/resource/authority/data-theme/ENER\",\"https://psi.norge.no/los/tema/energi\"],\"title\":{\"nb\":\"Rapportert netto overskuddsandel per selskap for 2009\"},\"type\":\"datasets\",\"uri\":\"https://data.norge.no/node/769\"}" }'

docker-compose exec schema-registry bash -c "echo '$messages'|kafka-avro-console-producer --bootstrap-server kafka:29092 --topic rdf-parse-events --property value.schema.id=${schema_id}"
